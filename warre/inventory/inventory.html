<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Beekeeper - Inventory</title>

	<!-- external resource links -->
	<link rel="stylesheet"
		  href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
		  integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u"
		  crossorigin="anonymous">

	<script src="https://code.jquery.com/jquery-3.1.1.min.js"
			integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="
			crossorigin="anonymous"></script>

	<script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js"
			integrity="sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb"
			crossorigin="anonymous"></script>

	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"
			integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa"
			crossorigin="anonymous"></script>

	<!-- internal resource links -->
	<!--
	<script src="../js/global_on_page_load.js"></script>
	<script src="../js/banner.js"></script>
	<script src="../js/authentication.js"></script>
	-->
	<script src="js.cookie.js"></script>
	<link href="inventory.css" type="text/css" rel="stylesheet">

	<!-- initialize page -->
	<script>
		jQuery(document).ready(function(){

		$("id-input").focus();

		function selectCI() {
			ci = true;
			co = false;
			stat = false;
			if ($('#chk-out-li').hasClass('active')) {
				$('#chk-out-li').removeClass('active');
			}
			if ($('#status-li').hasClass('active')) {
				$('#status-li').removeClass('active');
			}

			if (! $('#chk-in-li').hasClass('active')) {
				$('#chk-in-li').addClass('active');
			}

			$("id-input").focus();
		}

		var ci = true;
		var co = false;
		var stat = false;
                $('#chk-in-btn').click(function () {
			selectCI();
		});	

                $('#chk-out-btn').click(function () {
			co = true;
			ci = false;
			stat = false;
			if ($('#chk-in-li').hasClass('active')) {
				$('#chk-in-li').removeClass('active');
			}
			if ($('#status-li').hasClass('active')) {
				$('#status-li').removeClass('active');
			}

			if (! $('#chk-out-li').hasClass('active')) {
				$('#chk-out-li').addClass('active');
			}
			
			$("#id-input").focus();	
		});	

		$('#status-btn').click(function () {
			stat = true;
			ci = false;
			co = false;
			if ($('#chk-out-li').hasClass('active')) {
				$('#chk-out-li').removeClass('active');
			}
			if ($('#chk-in-li').hasClass('active')) {
				$('#chk-in-li').removeClass('active');
			}
		
			if (! $('#status-li').hasClass('active')) {
				$('#status-li').addClass('active');
			}

			$("#id-input").focus();						
		});

		$('#id-input').on('keypress', function (e) {
         		if(e.which === 13) {
            			$(this).attr("disabled", "disabled");
				
				if (!stat) {
					Cookies.set($('#id-input').val(), ci | !co);
					if (ci) {
						$("#feedback").text("Checked in.");
					} else {
						$("#feedback").text("Checked out.");
					}
				} else {
					if (Cookies.get($('#id-input').val()) == "1") {
						$("#feedback").text("This item is checked in.");
						//alert("This item is checked in.");
					} else {
						$("#feedback").text("This item is checked out.");
						//alert("This item is checked out.");
					}
				}

            			$(this).removeAttr("disabled");

				$('#id-input').val('');
				selectCI();
         		}
   		});

		});				
	</script>
</head>
<body>
<!-- page content -->
<div class="container" id="header">
	<div class="row">
		<div class="col-xs-12 col-sm-12 col-md-offset-3 col-md-6 col-lg-offset-3 col-lg-6">
			<div id="banner_inject"></div>

			<div class="well">
				<h1>Inventory</h1>

				<form>
					<ul class="list-inline">
						<li><a href="../user/profile.html">Profile</a></li>
						<li>|</li>
						<li><a href="../acct/login.html">Logout</a></li>
					</ul>
				</form>

				<form>
					<ul class="pagination pagination-lg">
    						<li id="chk-in-li" class="page-item active">
							<a id="chk-in-btn" class="page-link" href="#">Check-In</a>
    						</li>
    						<li id="chk-out-li" class="page-item">
    							<a id="chk-out-btn" class="page-link" href="#">Check-Out</a>
						</li>
						<li id='status-li' class='page-item'>
							<a id='status-btn' class='page-link' href='#'>Status</a>
						</li>
  					</ul>

				<form>

				<form>
					<div class='form-group'>
						<label>ID<input class='form-control' id="id-input"></label>
					</div>
				</form>

				<p id="feedback"></p>
			</div>
		</div>
	</div>
</div>
<div class="container" id="options">
</div>

</body>
</html>
